# 고객 LTV 분석 (for 가상자산 거래소)

## 0\. LTV(Lifetime Value)

### 기본 LTV 산출 공식 (단순 버전)

**LTV = 고객 1인당 평균 구매액 × 평균 구매 횟수 × 평균 고객 유지 기간**

* <strong>평균 구매액 (Average Order Value, AOV)</strong>: 고객 1회 구매 시 평균 지출 금액
* **평균 구매 횟수**: 일정 기간 내 고객이 구매한 횟수 평균
* **평균 고객 유지 기간**: 고객이 서비스를 이용하는 평균 기간 (개월, 년 단위 등)

### 수익 기반 LTV 예시(거래소

* 고객별 **수수료 수익** (예: 거래액 × 수수료율)을 기간별로 합산
* 고객별 **잔고 유지율**과 **거래 빈도**를 반영해 재구매 가능성 고려
* 고객별 세그먼트에 따라 LTV 차별화

예를 들어,
**LTV = Σ (거래액ₜ × 수수료율) × 고객 유지 확률ₜ,  for t = 1 to T**


### 실무에서 활용되는 방법

* **코호트 분석**: 특정 기간에 가입한 고객군의 평균 매출, 거래 빈도, 이탈률 등을 계산해 LTV 산출
* <strong>고객 세분화 (Segmentation)</strong>: VIP, 일반, 신규 등 고객군별로 LTV 산출 후 마케팅 전략에 활용
* **머신러닝 기반 예측**: 과거 거래 데이터, 행동 데이터를 활용해 미래 수익 예측 후 LTV 산출

## 1\. 프로젝트 개요

###  분석 목적

가상자산 거래소 이용 고객의 **LTV** 를 산출하여,

* 고객 세그먼트별 가치를 정량화하고,
* 유치/재유치 전략 설정에 활용하는 것을 목표로 함.

###  활용 시나리오

* 마케팅 예산 배분: 고LTV 고객 중심 리타겟팅
* 재유치 전략: 중간 LTV 이탈고객 재접근
* VIP 운영: 상위 거래자별 맞춤 관리 전략

***

## 2\. 데이터 설계 및 생성

###  데이터셋 구성

포트폴리오 목적에 맞춰 **현실성 있는 패턴 기반의 샘플 데이터**를 직접 생성.

### 현실성 반영 데이터 생성 전략 예시

* **고객군 세분화 (3개 군)**
    * 소규모 거래자 (거래 건수 많으나 소액) : 60%
    * 중간 규모 거래자 (적당한 거래액과 건수) : 30%
    * 대규모 거래자 (거래액 크고 건수는 적음) : 10%
* **거래 패턴 차별화**
    * 소규모: 거래액 평균 10만 원 이하, 거래 빈도 높음
    * 중간 규모: 거래액 평균 100만 원 내외, 거래 빈도 중간
    * 대규모: 거래액 평균 1,000만 원 이상, 거래 빈도 낮음
* **자산 스냅샷**
    * 각 고객군별 평균 자산가치 차별화 (예: 소규모는 50만\~300만 원, 대규모는 수천만 원 이상)
* **수수료 구조**
    * 거래액의 0.1%\~0.15% 범위로 랜덤 배분, 대규모는 협상된 낮은 수수료 가능성 반영


| 데이터프레임 | 설명 |
| ------ | --- |
| `df_users` | 고객 ID, 가입일, 최근 로그인일 등 |
| `df_transactions` | 고객별 거래 내역 (총 거래횟수, 총 거래금액 등) |
| `df_ltv` | 고객별 LTV 및 세그먼트 정보 포함 |

###  주요 컬럼 설명

* `user_id`: 고유 고객 식별자
* `signup_date`: 가입 시점
* `total_transaction_count`: 거래 횟수
* `total_transaction_amount`: 총 거래금액
* `ltv`: 총 거래금액 × 수수료율(0.04%)
* `segment`: 거래 규모 기준 고객 세그먼트 (Low/Mid/High)

###  데이터 생성 로직 요약

* 가입일은 2023년\~2024년 랜덤 설정
* 거래횟수는 지수 분포 기반으로 현실적으로 생성
* 거래금액은 고객별로 고정된 평균을 따라 생성하여 고액/소액 유저의 성향 반영
* 수수료율은 0.04% 고정
* 거래 금액에 따라 세그먼트를 분류 (상위 20%는 High 등)

***

## 3\. 분석 및 시각화

###  LTV 산출

```
python
```

복사<span class="" data-state="closed">편집</span>
`ltv = total_transaction_amount * `<span class="hljs-number">`0.0004`</span>` `<span class="hljs-comment">`# 0.04% 수수료율`</span>

###  세그먼트별 통계

| Segment | 평균 LTV | 중위수 | 고객 수 |
| ------- | ------ | --- | ---- |
| small | 594.6원 | 578.5원 | 613명 |
| medium | 3,182.8원 | 3,177.5원 | 287명 |
| lagrge | 14,485.9원 | 13,666.2원 | 98명 |

### 시각화 예시

* 세그먼트별 **LTV 분포 Boxplot**
* LTV 분포 **히스토그램**
* 세그먼트별 고객 수 **Bar Chart**
* 일자 기준 LTV **Bar Chart**

***

## 4\. Streamlit 리포트 구성

Streamlit 기반 대시보드로 분석 결과를 직관적으로 제공.

###  구성 내용

1. **세그먼트별 요약 통계** 테이블
2. **LTV 분포 시각화** (Boxplot)
3. **세그먼트 선택 필터** → 유저별 상세 LTV 확인
4. 향후 확장:
    * CSV 다운로드
    * 시계열 기반 분석
    * 리마케팅 타겟 설정 기능 추가

###  대시보드 예시 화면

*(Streamlit 실행화면 캡처 추가 가능)*

***

## 5\. 향후 확장 방향

* 월별 LTV 추이 시계열 분석
* 이탈 고객과의 연계 분석 (Churn 연계)
* 실거래 기반 수익률 계산
* LTV 기반 캠페인 효율 측정

***

## 6\. 프로젝트 링크

* GitHub: [https://github.com/parks602](https://github.com/parks602)
* Streamlit 데모: 
