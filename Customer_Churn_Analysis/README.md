# 고객 이탈 예측 모델링 (for 가상자산 거래소)

## 1\. 프로젝트 개요

###  분석 목적

본 프로젝트는 가상자산 거래소 이용 고객의 이탈 여부(Churn) 를 예측하는 것을 목표로 한다. 고객의 활동 패턴, 거래 이력, 서비스 이용 여부 등을 바탕으로 이탈 가능성을 사전에 파악함으로써, 휴면 고객 리마케팅 전략 수립에 기여하고자 한다.

모델링은 다음과 같은 세 가지 접근 방식으로 수행된다:

* 로지스틱 회귀(Logistic Regression): 해석 가능한 기준선을 제공하는 선형 분류 모델

* XGBoost: 복잡한 비선형 관계를 반영할 수 있는 Gradient Boosting 기반의 앙상블 모델

* LSTM (Long Short-Term Memory): 고객 거래 행태의 시계열적 특성을 반영하기 위한 RNN 기반 모델

이러한 다양한 모델링 접근을 통해, 각각의 모델이 가지는 장단점을 비교하고, 실제 환경에서 적용 가능한 최적의 방법론을 도출한다.


## 2\. 데이터 설계 및 생성

###  데이터셋 구성

포트폴리오 목적에 맞춰 **현실성 있는 패턴 기반의 샘플 데이터**를 직접 생성.

### 현실성 반영 데이터 생성 전략 예시

#### 사용자 정보

* 총 1,000명의 사용자를 대상으로 설정하며, 고객군(`small`, `medium`, `large`)으로 구분
* 각 사용자마다 가입일, 인증수준(KYC level), 유입 경로(organic, referral, social) 등의 속성을 랜덤 분포에 기반하여 생성

#### 거래 기록 \(Transaction Logs\)

* 사용자 군집별로 거래 빈도와 금액 수준을 차등 부여하여 현실성을 반영:
    * `small` 고객: 거래 빈도는 높으나 단건 금액이 작음
    * `large` 고객: 거래 빈도는 낮으나 단건 금액이 큼
* 거래일자, 자산종류(BTC, ETH 등), 거래유형(buy/sell), 거래금액, 수수료(0.04%) 정보를 포함

#### 자산 스냅샷 \(Monthly Asset Snapshot\)

* 사용자별로 월말 기준 자산가치를 생성
* 세그먼트에 따라 자산가치 범위를 차별화하고, ±20% 수준의 변동성을 반영하여 월별 시계열을 구성

#### 이탈 예측용 특성 데이터

* 기준일(2024-06-01) 기준으로 사용자별 다음의 파생 변수를 구성:
    * 마지막 로그인 일자 (`last_login_date`)
    * 최근 30일/90일 간 거래 횟수 (`num_trades_last_30d`, `num_trades_last_90d`)
    * 최근 30일 간 문의 건수 (`num_inquiries_last_30d`)
    * 마케팅 수신 여부 (`marketing_opt_in`)
* 이탈 라벨(`churn`)은 다음 조건 중 하나 이상에 해당할 경우 1로 정의:
    * 마지막 로그인일이 60일 이전
    * 최근 30일 거래 건수가 0건


###  이탈 예측용 데이터 생성 로직 요약

* <strong>기준일(Reference Date)</strong>: 2024년 6월 1일 기준으로 최근 활동 데이터 생성
* **마지막 로그인일**: 가입일 이후 0\~600일 사이 무작위 로그인 → 기준일 초과 시 기준일로 보정
* **최근 거래 이력**: 기준일 기준 최근 30일/90일 동안의 거래 횟수를 사용자별 집계
* **문의 이력**: 최근 30일 동안의 고객 문의 건수를 포아송 분포(λ=0.2)를 기반으로 생성
* **마케팅 수신 여부**: 60% 확률로 수신 동의 (`True`), 나머지는 미동의 (`False`)
* **결측 처리**: 거래 또는 문의 내역이 없는 유저는 해당 수치를 0으로 보정
* **이탈 여부(`churn`) 정의**:
    * 최근 30일 내 거래가 전혀 없는 고객 또는
    * 마지막 로그인일이 기준일(2024-06-01)로부터 60일 이상 지난 고객을
    * 이탈 고객(`churn = 1`)으로 분류했습니다.
* **랜덤성 반영**:
    * 실제 서비스 데이터를 모사하기 위해,
        * 각 고객별 `last_login_date`는 가입일 이후 임의의 활동 기간을 랜덤하게 부여하였고,
        * 최근 30일 및 90일 거래 횟수도 고객 세그먼트별 특성을 고려해 포아송 분포를 기반으로 생성하였습니다.
        * 문의 횟수와 마케팅 수신 여부 또한 현실적인 분포를 반영하여 무작위로 할당했습니다.
    * 이를 통해 인위적이지 않고, 현실적인 변동성을 가진 이탈 데이터셋을 만들었으며,
    * 모델 학습 및 평가 시 실제와 유사한 고객 행동 패턴을 반영할 수 있도록 설계되었습니다.
***

## 3\. 분석 및 시각화

* **기초 통계 및 데이터 탐색**:
    * 사용자 세그먼트별 거래 행태, 자산 규모, 문의 빈도 등 주요 변수의 분포 및 특성을 분석
    * 이탈 여부에 따른 차이를 시각적으로 비교하여 변수와 이탈과의 관계를 파악
* **변수별 분포 시각화**:
    * 최근 30일 거래 횟수, 마지막 로그인 이후 경과 일수, 마케팅 수신 동의 여부, 문의 횟수 등 핵심 변수들의 분포를 히스토그램, 카운트 플롯 등으로 표현
    * 각 변수의 분포를 이탈(`churn`) 여부와 함께 비교하여 이탈 패턴을 직관적으로 이해
* **상관관계 및 특성 분석**:
    * 주요 특성 간 상관관계 분석을 통해 변수 간 연관성을 확인
    * 이탈 여부에 중요한 영향을 미치는 변수를 식별하고, 모델링에 반영

***

## 4\. Streamlit 리포트 구성

본 프로젝트 결과는 Streamlit을 활용한 대시보드 형태로 구현하여 누구나 쉽게 분석 결과를 확인할 수 있도록 하였다. 주요 구성은 다음과 같다:

* **데이터 요약 및 신뢰성 검증**:
    * 사용자 정보, 거래 내역, 자산 스냅샷 데이터의 기본 통계량과 분포를 대시보드에서 확인 가능
    * 데이터 생성 과정 및 변수 정의에 대한 상세 설명 포함
* **이탈 예측용 변수 시각화**:
    * 각 변수별 분포와 이탈 여부와의 관계를 시각화하여 인사이트 제공
    * 그래프와 함께 변수별 해석을 덧붙여 사용자 이해도 제고
* **모델링 결과 요약**:
    * Logistic Regression, XGBoost, LSTM 세 가지 모델의 학습 결과 및 평가 지표(정확도, F1-score, ROC-AUC 등)를 직관적으로 표시
    * 분류 리포트를 테이블 형식으로 제공하여 세부 성능 비교 가능
* **최종 결론 및 활용 방안 제시**:
    * 모델별 장단점과 실무 적용 시 고려사항 설명
    * 이탈 예측 결과를 활용한 고객 세분화 및 맞춤형 리마케팅 전략 수립 방법 안내

***

## 5\. 향후 확장 방향

본 프로젝트는 샘플 데이터 기반의 이탈 예측 모델링을 구현한 초기 단계이며, 향후 다음과 같은 방향으로 확장이 가능하다:

* **실제 거래소 데이터 연동 및 검증**:
    * 가상자산 거래소 실제 운영 데이터와 연계하여 모델 성능을 검증하고, 실무 적용 가능성 확보
* **추가 변수 및 외부 데이터 활용**:
    * 고객 행동 로그, 웹/앱 사용 패턴, 고객 만족도 조사 결과 등 다양한 데이터 소스를 결합하여 예측력 강화
    * SNS 데이터, 시장 변동성 지표 등 외부 요인 반영
* **고급 시계열 및 딥러닝 모델 적용**:
    * Transformer 기반 모델 등 최신 시계열 분석 기법 도입
    * 강화학습을 활용한 맞춤형 고객 관리 전략 개발
* **대시보드 인터랙티브 강화 및 자동화**:
    * 실시간 데이터 업데이트 및 알림 기능 추가
    * 비즈니스 사용자용 맞춤형 리포팅 및 의사결정 지원 도구로 발전
***

## 6\. 프로젝트 링크

* GitHub: [https://github.com/parks602](https://github.com/parks602)
* Streamlit 데모: 
